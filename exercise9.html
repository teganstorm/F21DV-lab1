<!DOCTYPE html>
<html lang="en">

<head>
	<script src='https://d3js.org/d3.v7.min.js'></script>
</head>

<body>
	<button> <a href="index.html">Back</a> </button>
  <script>
    let titaniccsv = 'https://raw.githubusercontent.com/dsindy/kaggle-titanic/master/data/test.csv'; /*
    PassengerId,Pclass,Name,Sex,Age,SibSp,Parch,Ticket,Fare,Cabin,Embarked
    892,3,"Kelly, Mr. James",male,34.5,0,0,330911,7.8292,,Q
    893,3,"Wilkes, Mrs. James (Ellen Needs)",female,47,1,0,363272,7,,S 894,2,"Myles, Mr. Thomas Francis",male,62,0,0,240276,9.6875,,Q 895,3,"Wirz, Mr. Albert",male,27,0,0,315154,8.6625,,S
    */
    d3.csv(titaniccsv).then(function(data) {
      var mr = 0
      var mrs = 0
      var other = 0 
      var female = 0
      var othersex = 0
      var male = 0
      var over50 = 0
      var under50 = 0
      for (var i=0; i<data.length; i++) {
        var entry = data[i]
        name = entry.Name; 
        if (name.includes("Mr.")) {
          mr++
        } else if (name.includes("Mrs")) {
          mrs++
        } else {
          other++
        }
        age = entry.Age;
        if (age<50) {
          under50++
        } else {
          over50++
        }
        sex = entry.Sex;
        if (sex == "female") {
          female++;
        } else if (sex == "male") {
          male++;
        } 
      }
      let e1 = d3.select("body").append('p')
      e1.text("Mr. Count: "+mr);
      let e2 = d3.select("body").append('p')
	e2.text("Mrs Count: "+mrs);
      let e3 = d3.select("body").append('p')
	e3.text("Other Names Count: "+other);
      let e4 = d3.select("body").append('p')
	 e4.text("Female Count: "+female);
      let e5 = d3.select("body").append('p')
      e5.text("Male Count: "+male);
      let e6 = d3.select("body").append('p')
	e6.text("50 years and over Count: "+over50);
      let e7 = d3.select("body").append('p')
      e7.text("Under 50 years Count: "+under50);    
    })
  </script>
</body>

</html>
